(function(t){function e(e){for(var s,a,i=e[0],c=e[1],l=e[2],p=0,m=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&m.push(n[a][0]),n[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],s=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var s={},n={app:0},o=[];function a(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=s,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(r,s,function(e){return t[e]}.bind(null,s));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/plg-frontend/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},3280:function(t,e,r){t.exports=r.p+"img/dtu.5d49d479.png"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("b-navbar",{staticClass:"shadow",attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[s("b-navbar-brand",{attrs:{href:"#"}},[s("img",{staticClass:"d-inline-block align-top",attrs:{src:r("3280"),alt:"DTU",height:"30"}}),t._v(" PLG Web ")]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",{attrs:{to:{name:"About"}}},[t._v("About")])],1)],1)],1),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse border-right p-0"},[s("div",{staticClass:"sidebar-sticky pt-3"},[s("b-button",{staticClass:"ml-3",attrs:{variant:"outline-secondary",disabled:"online"!=this.systemStatus},on:{click:t.createNew}},[t._v("New Process")]),s("h6",{staticClass:"sidebar-heading justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",class:this.processes.length>0?"d-flex":"d-none"},[t._v(" Processes")]),s("ProcessesList",{attrs:{processes:t.processes}}),s("SystemStatus",{attrs:{systemStatus:t.systemStatus}})],1)]),s("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-md-4 pt-3",attrs:{role:"main"}},[s("router-view",{attrs:{processes:t.processes},on:{"start-stream":t.streamStarted}})],1)])],1)],1)},o=[],a=(r("99af"),r("7db0"),r("2909")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list-group list-group-flush"},t._l(t.processes,(function(e){return r("b-list-group-item",{key:e.process.id,staticClass:"list-group-item list-group-item-action bg-light border-0 align-items-center p-2 pl-3",attrs:{to:{name:"ProcessView",params:{id:e.process.id}}}},[r("font-awesome-icon",{attrs:{icon:"file"}}),t._v(" Process "+t._s(e.process.name)+" "),r("b-spinner",{staticClass:"float-right mt-1",class:{invisible:!e.streaming},staticStyle:{color:"#aaa"},attrs:{small:"",label:"Streaming ongoing..."}})],1)})),1)},c=[],l={name:"ProcessesList",props:["processes"]},u=l,p=r("2877"),m=Object(p["a"])(u,i,c,!1,null,null,null),d=m.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"mb-1 mx-3 small",staticStyle:{position:"fixed",bottom:"0"}},[r("p",[r("font-awesome-icon",{class:this.systemStatus,attrs:{icon:"circle"}}),t._v(" "+t._s(this.getSystemStatus())),r("br"),r("small",{staticClass:"text-secondary"},[r("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"server"}}),t._v(" "+t._s(this.$plgBackend.getHostname())+" ")],1)],1)])},f=[],g={name:"SystemStatus",props:["systemStatus"],methods:{getSystemStatus:function(){return"online"==this.systemStatus?"System online":"booting"==this.systemStatus?"Connecting...":"System offline"}}},b=g,v=(r("8b44"),Object(p["a"])(b,h,f,!1,null,"52d16ed8",null)),_=v.exports,w=r("bc3a"),k=r.n(w),y={components:{ProcessesList:d,SystemStatus:_},data:function(){return{processes:[],systemStatus:"booting"}},methods:{createNew:function(){var t=this;k.a.get(this.$plgBackend.getUrlProcessRandomize()).then((function(e){t.processes=[].concat(Object(a["a"])(t.processes),[{process:e.data,streaming:!1}]),t.$toastr.s("New process created!")})).catch((function(t){return console.error(t)}))},checkStatus:function(){var t=this;k.a.get(this.$plgBackend.getUrlPing()).then((function(e){return t.systemStatus="pong"==e.data?"online":"offline"})).catch((function(t){return console.error(t)}));for(var e=0;e<this.processes.length;e++){var r=this,s=e;k.a.get(this.$plgBackend.getUrlStreamerStatus(r.processes[s].process.id),{data:{index:s}}).then((function(t){r.processes[JSON.parse(t.config.data).index].streaming=t.data})).catch((function(t){return console.error(t)}))}},streamStarted:function(t){this.processes.find((function(e){return e.process.id==t})).streaming=!0}},mounted:function(){var t=this;this.checkStatus(),setInterval((function(){t.checkStatus()}),15e3)}},S=y,P=(r("034f"),Object(p["a"])(S,n,o,!1,null,null,null)),x=P.exports,U=r("8c4f"),T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[r("h1",{staticClass:"h2"},[t._v("Process "+t._s(this.process.name))]),r("b-button-group",{staticClass:"float-right"},[r("b-dropdown",{attrs:{right:"",text:"Export",variant:"outline-secondary",size:"sm"}},[r("b-dropdown-item",{on:{click:t.exportPlg}},[t._v("Export .plg")]),r("b-dropdown-item",{on:{click:t.exportBpmn}},[t._v("Export .bpmn")]),r("b-dropdown-item",{on:{click:t.exportTpn}},[t._v("Export .tpn")]),r("b-dropdown-item",{on:{click:t.exportPnml}},[t._v("Export .pnml")]),r("b-dropdown-item",{on:{click:t.exportSvg}},[t._v("Export .svg")])],1),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.stream-cofiguration",modifiers:{"stream-cofiguration":!0}}],attrs:{disabled:this.streaming,variant:"outline-secondary",size:"sm"}},[r("font-awesome-icon",{attrs:{icon:"play-circle"}}),t._v(" Simulate "),r("small",[t._v("(for 5 minutes)")])],1)],1)],1),r("ProcessRenderer",{ref:"dot",attrs:{dot:this.dot}}),r("StreamConfiguration",{attrs:{defaultName:this.process.name,process:this.process},on:{"start-stream":function(e){return t.$emit("start-stream",e)}}})],1)},E=[],$=(r("4de4"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("SvgPanZoom",{staticClass:"border w-100 svg-panzoom",class:{loading:null===this.svg},attrs:{viewportSelector:".graph",zoomEnabled:!0,controlIconsEnabled:!0,panEnabled:!0,fit:!1,center:!0,minZoom:.1,maxZoom:3},on:{svgpanzoom:t.registerSvgPanZoom}},[r("svg",{staticStyle:{overflow:"hidden"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[r("g",{staticClass:"svg-pan-zoom_viewport",domProps:{innerHTML:t._s(t.svg)}})])])}),B=[],O=(r("d81d"),r("ac1f"),r("1276"),r("2042")),C=r("1c91"),L=r.n(C),R=r("2c0f"),j=r.n(R),M={props:["dot"],data:function(){return{svg:null,svgpanzoom:null}},components:{SvgPanZoom:j.a},watch:{dot:"updateModel"},mounted:function(){this.updateModel()},methods:{updateModel:function(){var t=this;if(this.svg=null,null!==this.dot){var e=new O["a"]({workerURL:L.a});e.renderSVGElement(this.dot).then((function(e){t.viewBox=e.getAttribute("viewBox").split(" ").map(Math.ceil);var r=e.getElementsByClassName("graph")[0].innerHTML;t.svg=r,t.fitCenter()})).catch((function(t){return console.error(t)}))}},registerSvgPanZoom:function(t){this.svgpanzoom=t},fitCenter:function(){if(this.svgpanzoom&&this.viewBox&&this.svg){var t=this.viewBox[3],e=window.document.querySelector(".svg-panzoom");e&&this.svgpanzoom.pan({x:0,y:Math.abs(t)})}}}},N=M,z=(r("e4cf"),Object(p["a"])(N,$,B,!1,null,"351dd2c3",null)),A=z.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-modal",{attrs:{id:"stream-cofiguration",title:"Stream Configuration"},on:{ok:t.startStream}},[r("b-form-group",{attrs:{label:"Process name:","label-for":"processName"}},[r("b-form-input",{attrs:{required:"",placeholder:"Process name"},model:{value:t.processName,callback:function(e){t.processName=e},expression:"processName"}})],1),r("b-form-group",{attrs:{label:"MQTT-XES broker:","label-for":"brokerUrl"}},[r("b-form-input",{attrs:{required:"",placeholder:"MQTT-XES broker"},model:{value:t.brokerUrl,callback:function(e){t.brokerUrl=e},expression:"brokerUrl"}})],1),r("b-form-group",{attrs:{label:"MQTT topic:","label-for":"baseTopic"}},[r("b-form-input",{attrs:{required:"",placeholder:"MQTT topic"},model:{value:t.baseTopic,callback:function(e){t.baseTopic=e},expression:"baseTopic"}})],1)],1)},q=[],G={props:["defaultName","process"],data:function(){return{processName:this.defaultName,brokerUrl:"broker.hivemq.com",baseTopic:"pmcep-simulation"}},watch:{defaultName:function(t){this.processName=t}},methods:{startStream:function(){var t=this;k.a.post(this.$plgBackend.getUrlStreamerStart(this.processName),this.process,{params:{broker:this.brokerUrl,topic:this.baseTopic}}).then((function(e){!0===e.data?(t.$toastr.s("Stream started!"),t.$emit("start-stream",t.process.id)):t.$toastr.e("Stream cannot be started (maybe it is already running?)")})).catch((function(t){return console.error(t)}))}}},H=G,I=Object(p["a"])(H,D,q,!1,null,null,null),W=I.exports,Z={name:"ProcessView",props:["processes"],data:function(){return{process:{name:""},dot:null,streaming:!0}},components:{ProcessRenderer:A,StreamConfiguration:W},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;if("id"in this.$route.params){var e=this.processes.filter((function(e){return e.process.id==t.$route.params.id}));1==e.length?(this.process=e[0].process,this.streaming=e[0].streaming,this.renderProcess(),this.checkStreaming()):this.$router.push("/")}},renderProcess:function(){var t=this;this.dot=null,k.a.post(this.$plgBackend.getUrlProcessPlg2Dot(),this.process).then((function(e){return t.dot=e.data})).catch((function(t){return console.error(t)}))},checkStreaming:function(){var t=this;this.streaming=!0,k.a.get(this.$plgBackend.getUrlStreamerStatus(this.process.id)).then((function(e){return t.streaming=e.data})).catch((function(t){return console.error(t)}))},exportPlg:function(){var t=window.URL.createObjectURL(new Blob([this.process.serialization],{type:"application/xml"})),e=document.createElement("a");e.href=t,e.download="Process-"+this.process.name+".plg",e.click()},exportBpmn:function(){var t=this;k.a.post(this.$plgBackend.getUrlProcessPlg2Bpmn(),this.process).then((function(e){var r=window.URL.createObjectURL(new Blob([e.data],{type:"application/xml"})),s=document.createElement("a");s.href=r,s.download="Process-"+t.process.name+".bpmn",s.click()})).catch((function(t){return console.error(t)}))},exportTpn:function(){var t=this;k.a.post(this.$plgBackend.getUrlProcessPlg2Tpn(),this.process).then((function(e){var r=window.URL.createObjectURL(new Blob([e.data],{type:"text/plain"})),s=document.createElement("a");s.href=r,s.download="Process-"+t.process.name+".tpn",s.click()})).catch((function(t){return console.error(t)}))},exportPnml:function(){var t=this;k.a.post(this.$plgBackend.getUrlProcessPlg2Pnml(),this.process).then((function(e){var r=window.URL.createObjectURL(new Blob([e.data],{type:"application/xml"})),s=document.createElement("a");s.href=r,s.download="Process-"+t.process.name+".pnml",s.click()})).catch((function(t){return console.error(t)}))},exportSvg:function(){var t=window.URL.createObjectURL(new Blob([this.$refs.dot.svg],{type:"application/xml"})),e=document.createElement("a");e.href=t,e.download="Process-"+this.process.name+".svg",e.click()}}},J=Z,Q=Object(p["a"])(J,T,E,!1,null,null,null),V=Q.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",{staticClass:"h2 pt-3 pb-2 mb-3 border-bottom"},[t._v("About")]),r("p",[t._v('PLG Web is a web implementation of PLG which allows for steraming event data. Process Log Generator is a application capable to generate random business processes and "execute" them in order to generate an event steram.')]),r("p",[t._v("This software is designed to help researchers in the construction of a large set of processes and corresponding execution logs. This software is released with a small library which could help in the programmatical creation of processes.")]),r("p",[t._v("The software makes use of the following libraries:")]),t._m(0),r("p",[t._v("The source code of this web-application is available at:")]),t._m(1),t._m(2),r("ul",t._l(t.hosts,(function(e){return r("li",{key:e.hostname},[r("code",[t._v(t._s(e.hostname))]),t._v(" using "),r("code",[t._v(t._s(e.protocol))])])})),0),r("p",[t._v("The service is offered with no guarantees.")]),r("h1",{staticClass:"h3 pt-3 pb-2 mb-3 border-bottom"},[t._v("Citations")]),r("p",[t._v("Please cite this work as:")]),t._m(3)])},F=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("code",[t._v("libPlg")]),t._v(" and "),r("code",[t._v("libPlgSream")]),t._v(", available at "),r("a",{attrs:{href:"https://github.com/delas/plg",target:"_blank"}},[t._v("https://github.com/delas/plg")])]),r("li",[r("code",[t._v("mqtt-xes")]),t._v(", available at "),r("a",{attrs:{href:"https://github.com/beamline/mqtt-xes",target:"_blank"}},[t._v("https://github.com/beamline/mqtt-xes")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("Backend: "),r("a",{attrs:{href:"https://github.com/dtu-pm/plg-backend",target:"_blank"}},[t._v("https://github.com/dtu-pm/plg-backend")])]),r("li",[t._v("Frontend: "),r("a",{attrs:{href:"https://github.com/dtu-pm/plg-frontend",target:"_blank"}},[t._v("https://github.com/dtu-pm/plg-frontend")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("The documentation for the backend is available as "),r("a",{attrs:{href:"https://editor.swagger.io/?url=https://raw.githubusercontent.com/dtu-pm/plg-backend/master/api-documentation.yaml",target:"_blank"}},[t._v("Swagger YAML file")]),t._v(". The API are currently hosted at Heroku, and the frontend randomly connects to one of them. To use the API these hosts can currently be used:")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v('A. Burattin, M. Eigenmann, R. Seiger, B. Weber. "'),r("a",{attrs:{href:"https://andrea.burattin.net/publications/2020-bpm-demo",target:"_blank"}},[t._v("MQTT-XES: Real-time Telemetry for Process Event Data")]),t._v('". In '),r("em",[t._v("Online Proceedings of the BPM Demo Track 2020")]),t._v("; Sevilla, Spain; September, 13-18 2020; CEUR-WS.org 2020.")]),r("li",[t._v('Andrea Burattin. "'),r("a",{attrs:{href:"https://andrea.burattin.net/publications/2016-bpm-demo",target:"_blank"}},[t._v("PLG2: Multiperspective Process Randomization with Online and Offline Simulations")]),t._v('". In '),r("em",[t._v("Online Proceedings of the BPM Demo Track 2016")]),t._v("; Rio de Janeiro, Brasil; September, 18 2016; CEUR-WS.org 2016.")])])}],Y={name:"About",data:function(){return{hosts:[]}},created:function(){this.hosts=r("fbab")}},K=Y,tt=Object(p["a"])(K,X,F,!1,null,null,null),et=tt.exports;s["default"].use(U["a"]);var rt=[{path:"/process/:id",name:"ProcessView",component:V},{path:"/about",name:"About",component:et}],st=new U["a"]({routes:rt}),nt=st,ot=(r("f9e3"),r("2dd8"),r("5f5b")),at=r("ecee"),it=r("c074"),ct=r("ad3d"),lt=r("025a"),ut=r("d4ec"),pt=r("bee2"),mt=function(){function t(){Object(ut["a"])(this,t),this.urls=r("fbab"),this.url="",this.getRandomURL()}return Object(pt["a"])(t,[{key:"getRandomURL",value:function(){var t=this.getAllURLs();this.url=t[Math.floor(Math.random()*t.length)]}},{key:"getAllURLs",value:function(){return this.urls}},{key:"getHostname",value:function(){return this.url["hostname"]}},{key:"getProtocol",value:function(){return this.url["protocol"]}},{key:"getUrl",value:function(){return this.getProtocol()+"://"+this.getHostname()}},{key:"getUrlPing",value:function(){return this.getUrl()+"/api/v2/system/ping"}},{key:"getUrlProcessRandomize",value:function(){return this.getUrl()+"/api/v2/process/randomize"}},{key:"getUrlProcessPlg2Dot",value:function(){return this.getUrl()+"/api/v2/process/plg2dot"}},{key:"getUrlProcessPlg2Bpmn",value:function(){return this.getUrl()+"/api/v2/process/plg2bpmn"}},{key:"getUrlProcessPlg2Tpn",value:function(){return this.getUrl()+"/api/v2/process/plg2tpn"}},{key:"getUrlProcessPlg2Pnml",value:function(){return this.getUrl()+"/api/v2/process/plg2pnml"}},{key:"getUrlStreamerStatus",value:function(t){return this.getUrl()+"/api/v2/streamer/status/"+t}},{key:"getUrlStreamerStart",value:function(t){return this.getUrl()+"/api/v2/streamer/start/"+t}}]),t}();s["default"].use(ot["a"]),at["c"].add(it["a"]),s["default"].component("font-awesome-icon",ct["a"]),s["default"].use(lt["a"],{defaultPosition:"toast-bottom-right",defaultStyle:{opacity:"1","box-shadow":"none"}}),s["default"].prototype.$plgBackend=new mt,s["default"].config.productionTip=!1,new s["default"]({router:nt,render:function(t){return t(x)}}).$mount("#app"),document.title="PLG Web"},"85ec":function(t,e,r){},"8b44":function(t,e,r){"use strict";r("e5be")},e4cf:function(t,e,r){"use strict";r("fe52")},e5be:function(t,e,r){},fbab:function(t){t.exports=JSON.parse('[{"protocol":"https","hostname":"plg-backend-eu1.onrender.com"}]')},fe52:function(t,e,r){}});
//# sourceMappingURL=app.a9b0dd02.js.map